{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yu-Gi-Oh Card Shop - Premium Trading Cards</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- AOS Animation Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <!-- Custom CSS Files -->
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link rel="stylesheet" href="{% static 'css/navigation.css' %}">
    <link rel="stylesheet" href="{% static 'css/cards.css' %}">
    <link rel="stylesheet" href="{% static 'css/sections.css' %}">
    <link rel="stylesheet" href="{% static 'css/utilities.css' %}">
</head>
<body>
    <!-- Navigation -->  
    {% include 'includes/navbar.html' %}
    
    <!-- Hero Section -->
    <section id="home" class="hero-section">
        <div class="hero-background"></div>
        <div class="hero-overlay"></div>
        <div class="container position-relative">
            <div class="row min-vh-100 align-items-center">
                <div class="col-lg-6">
                    <div class="hero-content text-white">
                        <h1 class="hero-title" data-aos="fade-up">
                            <span class="text-gradient">DUEL</span><br>
                            <span class="text-outline">DESTINY</span>
                        </h1>
                        <p class="hero-subtitle" data-aos="fade-up" data-aos-delay="200">
                            Discover the ultimate collection of Yu-Gi-Oh! trading cards and accessories. 
                            From rare vintage cards to the latest releases.
                        </p>
                        <div class="hero-buttons" data-aos="fade-up" data-aos-delay="400">
                            <a href="{% url 'card_list' %}" class="btn btn-gradient btn-lg me-3">
                                <i class="fas fa-cards-blank me-2"></i>Shop Cards
                            </a>
                            <a href="#featured" class="btn btn-outline-light btn-lg">
                                <i class="fas fa-star me-2"></i>Featured Items
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="hero-card-display" data-aos="zoom-in" data-aos-delay="600">
                        <!-- Featured hero card visual -->
                        <div class="floating-card">
                            <i class="fas fa-dragon fa-8x text-warning"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Quick Purchase Section -->
    <section class="quick-purchase-section py-5 bg-light">
        <div class="container">
            <div class="row text-center mb-5">
                <div class="col-12">
                    <h2 class="display-5 fw-bold mb-3" data-aos="fade-up">Start Your Collection</h2>
                    <p class="lead text-muted" data-aos="fade-up" data-aos-delay="200">Choose your path to dueling greatness</p>
                </div>
            </div>
            
            <div class="row g-4">
                <div class="col-md-4" data-aos="fade-up" data-aos-delay="100">
                    <div class="purchase-option-card h-100 text-center p-4 bg-white rounded shadow-sm border-0">
                        <div class="purchase-icon mb-3">
                            <i class="fas fa-cards-blank fa-3x text-primary"></i>
                        </div>
                        <h4 class="fw-bold mb-3">Individual Cards</h4>
                        <p class="text-muted mb-4">Browse and purchase single cards to complete your deck or collection.</p>
                        <div class="mb-3">
                            <small class="text-success fw-bold">
                                <i class="fas fa-check-circle me-1"></i>
                                {{ featured_cards|length }}+ Cards Available
                            </small>
                        </div>
                        <a href="{% url 'card_list' %}" class="btn btn-primary btn-lg w-100">
                            <i class="fas fa-shopping-cart me-2"></i>Browse Cards
                        </a>
                    </div>
                </div>
                
                <div class="col-md-4" data-aos="fade-up" data-aos-delay="200">
                    <div class="purchase-option-card h-100 text-center p-4 bg-white rounded shadow-sm border-0">
                        <div class="purchase-icon mb-3">
                            <i class="fas fa-box fa-3x text-success"></i>
                        </div>
                        <h4 class="fw-bold mb-3">Accessories & Products</h4>
                        <p class="text-muted mb-4">Deck boxes, card sleeves, playmats, and other gaming accessories.</p>
                        <div class="mb-3">
                            <small class="text-success fw-bold">
                                <i class="fas fa-check-circle me-1"></i>
                                Deck Protection & More
                            </small>
                        </div>
                        <a href="{% url 'admin_dashboard:other_products' %}" class="btn btn-success btn-lg w-100">
                            <i class="fas fa-gamepad me-2"></i>Shop Accessories
                        </a>
                    </div>
                </div>
                
                <div class="col-md-4" data-aos="fade-up" data-aos-delay="300">
                    <div class="purchase-option-card h-100 text-center p-4 bg-white rounded shadow-sm border-0 position-relative">
                        <div class="badge bg-warning text-dark position-absolute top-0 start-50 translate-middle px-3 py-2">
                            Popular
                        </div>
                        <div class="purchase-icon mb-3">
                            <i class="fas fa-layer-group fa-3x text-warning"></i>
                        </div>
                        <h4 class="fw-bold mb-3">Card Sets</h4>
                        <p class="text-muted mb-4">Complete card sets and themed collections for serious duelists.</p>
                        <div class="mb-3">
                            <small class="text-success fw-bold">
                                <i class="fas fa-check-circle me-1"></i>
                                {{ latest_sets|length }} Sets Available
                            </small>
                        </div>
                        <a href="{% url 'card_list' %}?ordering=card_set" class="btn btn-warning btn-lg w-100 text-dark">
                            <i class="fas fa-collection me-2"></i>Browse Sets
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features-section">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-4" data-aos="fade-up" data-aos-delay="100">
                    <div class="feature-card text-center">
                        <div class="feature-icon icon-1">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h4 class="fw-bold mb-3">Authentic Cards</h4>
                        <p class="text-muted">All cards are verified authentic. 100% genuine Yu-Gi-Oh! trading cards guaranteed.</p>
                    </div>
                </div>
                <div class="col-md-4" data-aos="fade-up" data-aos-delay="200">
                    <div class="feature-card text-center">
                        <div class="feature-icon icon-2">
                            <i class="fas fa-shipping-fast"></i>
                        </div>
                        <h4 class="fw-bold mb-3">Fast Delivery</h4>
                        <p class="text-muted">Express delivery available worldwide. Get your cards quickly and safely.</p>
                    </div>
                </div>
                <div class="col-md-4" data-aos="fade-up" data-aos-delay="300">
                    <div class="feature-card text-center">
                        <div class="feature-icon icon-3">
                            <i class="fas fa-star"></i>
                        </div>
                        <h4 class="fw-bold mb-3">Rare Collections</h4>
                        <p class="text-muted">Exclusive access to the rarest cards. From vintage classics to latest releases.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Cards Section -->
    <section id="featured" class="featured-cards-section">
        <div class="container">
            <div class="row mb-5">
                <div class="col-12 text-center">
                    <h2 class="display-4 fw-bold mb-4 text-white" data-aos="fade-up">Featured Cards</h2>
                    <p class="lead text-light" data-aos="fade-up" data-aos-delay="200">Discover the most sought-after cards in our collection</p>
                </div>
            </div>
            
            <div class="row g-4">
                {% for card in featured_cards %}
                    <div class="col-lg-3 col-md-6" data-aos="zoom-in" data-aos-delay="{{ forloop.counter|add:100 }}">
                        <div class="card-showcase h-100">
                            <div class="card-image-container">
                                {% if card.image %}
                                    <img src="{{ card.image.url }}" alt="{{ card.name }}" class="w-100 h-100 object-cover">
                                {% else %}
                                    <div class="card-placeholder">
                                        {% if card.card_type == 'monster' %}
                                            <i class="fas fa-dragon fa-4x text-white"></i>
                                        {% elif card.card_type == 'spell' %}
                                            <i class="fas fa-magic fa-4x text-white"></i>
                                        {% else %}
                                            <i class="fas fa-shield-alt fa-4x text-white"></i>
                                        {% endif %}
                                    </div>
                                {% endif %}
                                <div class="card-overlay">
                                    <div class="card-actions">
                                        <a href="{% url 'card_detail' card.pk %}" class="btn btn-light btn-sm">
                                            <i class="fas fa-eye me-1"></i>View Details
                                        </a>
                                        {% if user.is_authenticated and card.is_in_stock %}
                                            <a href="{% url 'add_to_cart' card.pk %}" class="btn btn-primary btn-sm">
                                                <i class="fas fa-cart-plus me-1"></i>Add to Cart
                                            </a>
                                        {% elif not user.is_authenticated %}
                                            <a href="{% url 'login' %}" class="btn btn-primary btn-sm">
                                                <i class="fas fa-sign-in-alt me-1"></i>Login to Buy
                                            </a>
                                        {% else %}
                                            <button class="btn btn-secondary btn-sm" disabled>
                                                <i class="fas fa-times me-1"></i>Out of Stock
                                            </button>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                            <div class="card-showcase-body">
                                <h5 class="fw-bold mb-2">{{ card.name }}</h5>
                                <div class="mb-3">
                                    <span class="badge bg-warning me-2">{{ card.get_rarity_display }}</span>
                                    <span class="badge bg-outline-light">{{ card.get_card_type_display }}</span>
                                </div>
                                <div class="d-flex justify-content-between align-items-center">
                                    <span class="h4 text-success mb-0">${{ card.price }}</span>
                                    <small class="text-muted">
                                        {% if card.is_in_stock %}
                                            <i class="fas fa-check-circle text-success me-1"></i>{{ card.stock_quantity }} in stock
                                        {% else %}
                                            <i class="fas fa-times-circle text-danger me-1"></i>Out of stock
                                        {% endif %}
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                {% empty %}
                    <!-- Default cards if no featured cards exist -->
                    <div class="col-12 text-center text-light">
                        <div class="p-5">
                            <i class="fas fa-box-open fa-3x mb-3 text-muted"></i>
                            <h4>No Featured Cards Available</h4>
                            <p class="text-muted">Check back soon for our latest featured cards!</p>
                            <a href="{% url 'card_list' %}" class="btn btn-primary">Browse All Cards</a>
                        </div>
                    </div>
                {% endfor %}
            </div>
            
            <div class="row mt-5">
                <div class="col-12 text-center">
                    <a href="{% url 'card_list' %}" class="btn btn-outline-light btn-lg" data-aos="fade-up">
                        <i class="fas fa-th-large me-2"></i>View All Cards
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Latest Sets Section -->
    {% if latest_sets %}
    <section class="latest-sets-section py-5 bg-dark">
        <div class="container">
            <div class="row mb-5">
                <div class="col-12 text-center">
                    <h2 class="display-5 fw-bold mb-4 text-white" data-aos="fade-up">Latest Card Sets</h2>
                    <p class="lead text-light" data-aos="fade-up" data-aos-delay="200">Explore our newest card collections</p>
                </div>
            </div>
            
            <div class="row g-4">
                {% for set in latest_sets %}
                    <div class="col-lg-3 col-md-6" data-aos="fade-up" data-aos-delay="{{ forloop.counter|add:100 }}">
                        <div class="set-card h-100 bg-light rounded p-4 text-center">
                            <div class="set-icon mb-3">
                                <i class="fas fa-layer-group fa-3x text-primary"></i>
                            </div>
                            <h5 class="fw-bold mb-2">{{ set.name }}</h5>
                            <p class="text-muted small mb-3">{{ set.code }}</p>
                            <p class="text-muted mb-3">Released: {{ set.release_date|date:"M Y" }}</p>
                            <a href="{% url 'card_list' %}?set={{ set.id }}" class="btn btn-primary btn-sm">
                                <i class="fas fa-cards-blank me-1"></i>View Cards
                            </a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </section>
    {% endif %}

    <!-- Call to Action Section -->
    <section class="cta-section text-center">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <h2 class="display-4 fw-bold mb-4 text-white" data-aos="fade-up">Ready to Duel?</h2>
                    <p class="lead text-light mb-5" data-aos="fade-up" data-aos-delay="200">
                        Join thousands of duelists who trust us for their Yu-Gi-Oh! card needs. 
                        Start building your ultimate deck today!
                    </p>
                    <div class="cta-buttons" data-aos="fade-up" data-aos-delay="400">
                        {% if not user.is_authenticated %}
                            <a href="{% url 'register' %}" class="btn btn-gradient btn-lg me-3">
                                <i class="fas fa-user-plus me-2"></i>Create Account
                            </a>
                            <a href="{% url 'login' %}" class="btn btn-outline-light btn-lg">
                                <i class="fas fa-sign-in-alt me-2"></i>Sign In
                            </a>
                        {% else %}
                            <a href="{% url 'cart' %}" class="btn btn-gradient btn-lg me-3">
                                <i class="fas fa-shopping-cart me-2"></i>View Cart
                            </a>
                            <a href="{% url 'card_list' %}" class="btn btn-outline-light btn-lg">
                                <i class="fas fa-search me-2"></i>Browse Cards
                            </a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark text-light py-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5 class="fw-bold mb-3">Yu-Gi-Oh Card Shop</h5>
                    <p class="text-muted">Your trusted source for authentic Yu-Gi-Oh! trading cards and accessories.</p>
                </div>
                <div class="col-md-6">
                    <h6 class="fw-bold mb-3">Quick Links</h6>
                    <ul class="list-unstyled">
                        <li><a href="{% url 'card_list' %}" class="text-muted text-decoration-none">Browse Cards</a></li>
                        <li><a href="{% url 'cart' %}" class="text-muted text-decoration-none">Shopping Cart</a></li>
                        {% if user.is_authenticated %}
                            <li><a href="{% url 'logout' %}" class="text-muted text-decoration-none">Logout</a></li>
                        {% else %}
                            <li><a href="{% url 'login' %}" class="text-muted text-decoration-none">Login</a></li>
                            <li><a href="{% url 'register' %}" class="text-muted text-decoration-none">Register</a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
            <hr class="my-4">
            <div class="text-center">
                <p class="mb-0 text-muted">&copy; 2025 Yu-Gi-Oh Card Shop. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <script>
        // Initialize AOS
        AOS.init({
            duration: 800,
            once: true
        });

        // Add some interactive effects
        document.addEventListener('DOMContentLoaded', function() {
            // Add hover effects to purchase option cards
            const purchaseCards = document.querySelectorAll('.purchase-option-card');
            purchaseCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-5px)';
                    this.style.transition = 'transform 0.3s ease';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                });
            });

            // Add glow effect to featured cards
            const cardShowcases = document.querySelectorAll('.card-showcase');
            cardShowcases.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.boxShadow = '0 0 20px rgba(255, 215, 0, 0.3)';
                    this.style.transition = 'box-shadow 0.3s ease';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.boxShadow = 'none';
                });
            });
        });
    </script>

    <style>
        .purchase-option-card {
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .purchase-option-card:hover {
            border-color: var(--bs-primary);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .card-showcase {
            transition: all 0.3s ease;
        }
        
        .floating-card {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .text-gradient {
            background: linear-gradient(45deg, #ffd700, #ff6b35);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .btn-gradient {
            background: linear-gradient(45deg, #007bff, #0056b3);
            border: none;
            color: white;
        }
        
        .btn-gradient:hover {
            background: linear-gradient(45deg, #0056b3, #004085);
            color: white;
        }
    </style>
</body>
</html>